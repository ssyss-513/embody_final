<?xml version="1.0" ?>
<!-- =================================================================================== -->
<!-- |    This document was autogenerated by xacro from ir100_description.xacro        | -->
<!-- |    EDITING THIS FILE BY HAND IS NOT RECOMMENDED                                 | -->
<!-- =================================================================================== -->
<robot name="ir100">
  <material name="OffWhite">
    <color rgba="0.8 0.8 0.8 1.0"/>
  </material>
  <material name="black">
    <color rgba="0.8 0.8 0.8 1.0"/>
  </material>
  <link name="base_link">
    <inertial>
      <mass rpy="0 0 0" value="0.0001"/>
      <origin xyz="0 0 0"/>
      <inertia ixx="0.0001" ixy="0.0" ixz="0.0" iyy="0.0001" iyz="0.0" izz="0.0001"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://ir100_description/meshes/base_link.stl"/>
      </geometry>
      <material name="OffWhite"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0.15"/>
      <geometry>
        <box size="0.8 0.6 0.4"/>
      </geometry>
    </collision>
  </link>
  <link name="top_link">
    <visual>
      <geometry>
        <mesh filename="package://ir100_description/meshes/top.STL"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <material name="black">
        <color rgba="0.7 0.5 0 0.5"/>
      </material>
    </visual>
    <collision>
      <geometry>
        <box size="0.25 0.5 1"/>
      </geometry>
      <origin rpy="0 0 0" xyz="-0.2 0 0.51"/>
    </collision>
    <collision>
      <geometry>
        <box size="0.18 0.35 0.2"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0.02 0 0.11"/>
    </collision>
  </link>
  <joint name="top_joint" type="fixed">
    <origin rpy="0 0 0" xyz="0 0 0.32"/>
    <parent link="base_link"/>
    <child link="top_link"/>
  </joint>
  <link name="hand_link">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://ir100_description/meshes/Hard.STL"/>
      </geometry>
      <material name="black">
        <color rgba="0.7 0.5 0 0.5"/>
      </material>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://ir100_description/meshes/Hard.STL"/>
      </geometry>
    </collision>
  </link>
  <joint name="hand_joint" type="prismatic">
    <origin rpy="0 0 0" xyz="-0.08 0 0.7"/>
    <parent link="base_link"/>
    <child link="hand_link"/>
    <axis xyz="0 0 1"/>
    <limit effort="30" lower="0" upper="0.4" velocity="1.0"/>
  </joint>
  <link name="left_wheel_link">
  </link>
  <joint name="left_wheel_joint" type="continuous">
    <origin rpy="0 0 0" xyz="0 0.25 0.03"/>
    <parent link="base_link"/>
    <child link="left_wheel_link"/>
    <axis xyz="0 1 0"/>
  </joint>
  <link name="left_arm_link">
</link>
  <joint name="left_arm_joint" type="fixed">
    <origin rpy="-2.3562 0 0" xyz="0.084 0.2 0.038"/>
    <parent link="hand_link"/>
    <child link="left_arm_link"/>
  </joint>
  <link name="right_arm_link">
</link>
  <joint name="right_arm_joint" type="fixed">
    <origin rpy="2.3562 0 0" xyz="0.084 -0.2 0.038"/>
    <parent link="hand_link"/>
    <child link="right_arm_link"/>
  </joint>
  <link name="right_wheel_link">
  </link>
  <joint name="right_wheel_joint" type="continuous">
    <origin rpy="3.14159265358979 3.14159265358979 3.14159265358979" xyz="0 -0.25 0.03"/>
    <parent link="base_link"/>
    <child link="right_wheel_link"/>
    <axis xyz="0 1 0"/>
  </joint>
  <link name="imu_link">
  </link>
  <joint name="imu_joint" type="fixed">
    <origin rpy="0 0 0" xyz="0 0 0"/>
    <parent link="base_link"/>
    <child link="imu_link"/>
  </joint>
  <!-- <link name="camera_link" >

  </link>

  <joint name="camera_joint" type="fixed">

    <origin xyz="0.4 0 0.365" rpy="0 0 0" />

    <parent link="base_link" />

    <child link="camera_link" />

  </joint> -->
  <link name="laser">
  </link>
  <joint name="laser_joint" type="fixed">
    <origin rpy="3.14159265358979 0 0" xyz="0.3 0 0.25"/>
    <parent link="base_link"/>
    <child link="laser"/>
  </joint>
  <link name="servo_link1_link">
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <mass value="7.39299387464192"/>
      <inertia ixx="0" ixy="0" ixz="0" iyy="0" iyz="0" izz="0"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://ir100_description/meshes/servo_link1.stl"/>
      </geometry>
      <material name="">
        <color rgba="1 1 1 1"/>
      </material>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://ir100_description/meshes/servo_link1.stl"/>
      </geometry>
    </collision>
  </link>
  <joint name="servo_link1_joint" type="revolute">
    <origin rpy="0 0 0" xyz="0.08 0 0.13"/>
    <parent link="hand_link"/>
    <child link="servo_link1_link"/>
    <axis xyz="0 0 1"/>
    <limit effort="0" lower="-2.35" upper="2.35" velocity="1"/>
  </joint>
  <link name="servo_link2_link">
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <mass value="7.39299387464192"/>
      <inertia ixx="0" ixy="0" ixz="0" iyy="0" iyz="0" izz="0"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://ir100_description/meshes/servo_link2.stl"/>
      </geometry>
      <material name="">
        <color rgba="1 1 1 1"/>
      </material>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://ir100_description/meshes/servo_link2.stl"/>
      </geometry>
    </collision>
  </link>
  <joint name="servo_link2_joint" type="revolute">
    <origin rpy="0 0 0" xyz="0.014 0 0.135"/>
    <parent link="servo_link1_link"/>
    <child link="servo_link2_link"/>
    <axis xyz="0 1 0"/>
    <limit effort="0" lower="-1.48" upper="1.48" velocity="1"/>
  </joint>
  <!-- Insert at the beginning of xarm_device_macro.xacro -->
  <material name="L_Black">
    <color rgba="0.0 0.0 0.0 1.0"/>
  </material>
  <material name="L_Red">
    <color rgba="0.8 0.0 0.0 1.0"/>
  </material>
  <material name="L_White">
    <color rgba="1.0 1.0 1.0 1.0"/>
  </material>
  <material name="L_Silver">
    <color rgba="0.753 0.753 0.753 1.0"/>
  </material>
  <joint name="L_world_joint" type="fixed">
    <parent link="left_arm_link"/>
    <child link="L_link_base"/>
    <origin rpy="0 0 0" xyz="0 0 0"/>
  </joint>
  <link name="L_link_base">
    <inertial>
      <origin rpy="0 0 0" xyz="0.0 0.0 0.09103"/>
      <mass value="2.7"/>
      <inertia ixx="0.00494875" ixy="-3.5E-06" ixz="1.25E-05" iyy="0.00494174" iyz="1.67E-06" izz="0.002219"/>
    </inertial>
    <visual>
      <geometry>
        <mesh filename="package://xarm_description/meshes/xarm6/visual/link_base.stl"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <material name="L_White"/>
    </visual>
    <collision>
      <geometry>
        <mesh filename="package://xarm_description/meshes/xarm6/visual/link_base.stl"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0"/>
    </collision>
  </link>
  <link name="L_link1">
    <inertial>
      <origin rpy="0 0 0" xyz="0.00022 0.02951 -0.0124"/>
      <mass value="2.3814"/>
      <inertia ixx="0.0058562" ixy="-1.79e-05" ixz="3.55e-06" iyy="0.0050316" iyz="-0.000888336" izz="0.003536652"/>
    </inertial>
    <visual>
      <geometry>
        <mesh filename="package://xarm_description/meshes/xarm6/visual/link1.stl"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <material name="L_White"/>
    </visual>
    <collision>
      <geometry>
        <mesh filename="package://xarm_description/meshes/xarm6/visual/link1.stl"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0"/>
    </collision>
  </link>
  <joint name="L_joint1" type="revolute">
    <parent link="L_link_base"/>
    <child link="L_link1"/>
    <origin rpy="0 0 0" xyz="0 0 0.267"/>
    <axis xyz="0 0 1"/>
    <limit effort="50.0" lower="-6.283185307179586" upper="6.283185307179586" velocity="3.14"/>
    <dynamics damping="1.0" friction="1.0"/>
  </joint>
  <link name="L_link2">
    <inertial>
      <origin rpy="0 0 0" xyz="0.03881 -0.22783 0.03496"/>
      <mass value="2.2675"/>
      <inertia ixx="0.028315776" ixy="0.005" ixz="0.00066546" iyy="0.0058" iyz="-0.0045741" izz="0.0273447"/>
    </inertial>
    <visual>
      <geometry>
        <mesh filename="package://xarm_description/meshes/xarm6/visual/link2.stl"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <material name="L_White"/>
    </visual>
    <collision>
      <geometry>
        <mesh filename="package://xarm_description/meshes/xarm6/visual/link2.stl"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0"/>
    </collision>
  </link>
  <joint name="L_joint2" type="revolute">
    <parent link="L_link1"/>
    <child link="L_link2"/>
    <origin rpy="-1.5708 0 0" xyz="0 0 0"/>
    <axis xyz="0 0 1"/>
    <limit effort="50.0" lower="-2.059" upper="2.0944" velocity="3.14"/>
    <dynamics damping="1.0" friction="1.0"/>
  </joint>
  <link name="L_link3">
    <inertial>
      <origin rpy="0 0 0" xyz="0.07041 0.11631 0.0107"/>
      <mass value="1.875"/>
      <inertia ixx="0.0063483" ixy="-0.0015397" ixz="0.00096858" iyy="0.00379758" iyz="0.00186567" izz="0.00595768"/>
    </inertial>
    <visual>
      <geometry>
        <mesh filename="package://xarm_description/meshes/xarm6/visual/link3.stl"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <material name="L_White"/>
    </visual>
    <collision>
      <geometry>
        <mesh filename="package://xarm_description/meshes/xarm6/visual/link3.stl"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0"/>
    </collision>
  </link>
  <joint name="L_joint3" type="revolute">
    <parent link="L_link2"/>
    <child link="L_link3"/>
    <origin rpy="0 0 0" xyz="0.0535 -0.2845 0"/>
    <axis xyz="0 0 1"/>
    <limit effort="32.0" lower="-3.927" upper="0.19198" velocity="3.14"/>
    <dynamics damping="1.0" friction="1.0"/>
  </joint>
  <link name="L_link4">
    <inertial>
      <origin rpy="0 0 0" xyz="-0.00018 0.01798 -0.02291"/>
      <mass value="1.3192"/>
      <inertia ixx="0.004896" ixy="-6.925e-06" ixz="-1.418e-05" iyy="0.00445694" iyz="-0.00023186" izz="0.00134332"/>
    </inertial>
    <visual>
      <geometry>
        <mesh filename="package://xarm_description/meshes/xarm6/visual/link4.stl"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <material name="L_White"/>
    </visual>
    <collision>
      <geometry>
        <mesh filename="package://xarm_description/meshes/xarm6/visual/link4.stl"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0"/>
    </collision>
  </link>
  <joint name="L_joint4" type="revolute">
    <parent link="L_link3"/>
    <child link="L_link4"/>
    <origin rpy="-1.5708 0 0" xyz="0.0775 0.3425 0"/>
    <axis xyz="0 0 1"/>
    <limit effort="32.0" lower="-6.283185307179586" upper="6.283185307179586" velocity="3.14"/>
    <dynamics damping="1.0" friction="1.0"/>
  </joint>
  <link name="L_link5">
    <inertial>
      <origin rpy="0 0 0" xyz="0.0651 0.03096 0.00315"/>
      <mass value="1.33854"/>
      <inertia ixx="0.00146378" ixy="-0.000450624" ixz="0.000284306" iyy="0.00184192" iyz="0.000130866" izz="0.002333524"/>
    </inertial>
    <visual>
      <geometry>
        <mesh filename="package://xarm_description/meshes/xarm6/visual/link5.stl"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <material name="L_White"/>
    </visual>
    <collision>
      <geometry>
        <mesh filename="package://xarm_description/meshes/xarm6/visual/link5.stl"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0"/>
    </collision>
  </link>
  <joint name="L_joint5" type="revolute">
    <parent link="L_link4"/>
    <child link="L_link5"/>
    <origin rpy="1.5708 0 0" xyz="0 0 0"/>
    <origin rpy="1.5708 0 0" xyz="0 0 0"/>
    <axis xyz="0 0 1"/>
    <limit effort="32.0" lower="-1.69297" upper="3.141592653589793" velocity="3.14"/>
    <dynamics damping="1.0" friction="1.0"/>
  </joint>
  <link name="L_link6">
    <inertial>
      <origin rpy="0 0 0" xyz="0 -0.00677 -0.01098"/>
      <mass value="0.17"/>
      <inertia ixx="9.3e-05" ixy="-0.0" ixz="-0.0" iyy="5.87e-05" iyz="-3.6e-06" izz="0.000132"/>
    </inertial>
    <visual>
      <geometry>
        <mesh filename="package://xarm_description/meshes/xarm6/visual/link6.stl"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <material name="L_Silver"/>
    </visual>
    <collision>
      <geometry>
        <mesh filename="package://xarm_description/meshes/end_tool/collision/end_tool.stl"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0"/>
    </collision>
  </link>
  <joint name="L_joint6" type="revolute">
    <parent link="L_link5"/>
    <child link="L_link6"/>
    <origin rpy="-1.5708 0 0" xyz="0.076 0.097 0"/>
    <axis xyz="0 0 1"/>
    <limit effort="20.0" lower="-6.283185307179586" upper="6.283185307179586" velocity="3.14"/>
    <dynamics damping="1.0" friction="1.0"/>
  </joint>
  <!-- <link name="${prefix}link_eef" />
    <joint name="${prefix}joint_eef" type="fixed">
      <origin xyz="0 0 0" rpy="0 0 0" />
      <parent link="${prefix}link6" />
      <child link="${prefix}link_eef" />
    </joint> -->
  <transmission name="L_tran1">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="L_joint1">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="L_motor1">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
      <mechanicalReduction>100</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="L_tran2">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="L_joint2">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="L_motor2">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
      <mechanicalReduction>100</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="L_tran3">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="L_joint3">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="L_motor3">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
      <mechanicalReduction>100</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="L_tran4">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="L_joint4">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="L_motor4">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
      <mechanicalReduction>100</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="L_tran5">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="L_joint5">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="L_motor5">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
      <mechanicalReduction>100</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="L_tran6">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="L_joint6">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="L_motor6">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
      <mechanicalReduction>100</mechanicalReduction>
    </actuator>
  </transmission>
  <gazebo reference="L_link_base">
    <selfCollide>true</selfCollide>
  </gazebo>
  <gazebo reference="L_link1">
    <selfCollide>true</selfCollide>
  </gazebo>
  <gazebo reference="L_link2">
    <selfCollide>true</selfCollide>
  </gazebo>
  <gazebo reference="L_link3">
    <selfCollide>true</selfCollide>
  </gazebo>
  <gazebo reference="L_link4">
    <selfCollide>true</selfCollide>
  </gazebo>
  <gazebo reference="L_link5">
    <selfCollide>true</selfCollide>
  </gazebo>
  <gazebo reference="L_link6">
    <selfCollide>true</selfCollide>
  </gazebo>
  <link name="L_link_eef">
    <visual>
      <geometry>
        <mesh filename="package://xarm_description/meshes/camera/realsense/visual/d435_with_cam_stand.stl"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <material name="L_Silver"/>
    </visual>
    <collision>
      <geometry>
        <mesh filename="package://xarm_description/meshes/camera/realsense/collision/d435_with_cam_stand.stl"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0"/>
    </collision>
  </link>
  <link name="L_camera_link"/>
  <link name="L_camera_depth_frame"/>
  <link name="L_camera_depth_optical_frame"/>
  <link name="L_camera_color_frame"/>
  <link name="L_camera_color_optical_frame"/>
  <link name="L_camera_left_ir_frame"/>
  <link name="L_camera_left_ir_optical_frame"/>
  <link name="L_camera_right_ir_frame"/>
  <link name="L_camera_right_ir_optical_frame"/>
  <joint name="L_camera_link_joint" type="fixed">
    <parent link="L_link_eef"/>
    <child link="L_camera_link"/>
    <origin rpy="3.141592653589793 -1.5707963267948966 0" xyz="0.06746 -0.0175 0.0237"/>
  </joint>
  <joint name="L_camera_depth_joint" type="fixed">
    <parent link="L_camera_link"/>
    <child link="L_camera_depth_frame"/>
    <origin rpy="0 0 0" xyz="0 0 0"/>
  </joint>
  <joint name="L_camera_depth_optical_joint" type="fixed">
    <parent link="L_camera_depth_frame"/>
    <child link="L_camera_depth_optical_frame"/>
    <origin rpy="-1.5707963267948966 0 -1.5707963267948966" xyz="0 0 0"/>
  </joint>
  <joint name="L_camera_color_joint" type="fixed">
    <parent link="L_camera_link"/>
    <child link="L_camera_color_frame"/>
    <origin rpy="0 0 0" xyz="0 0.015 0"/>
  </joint>
  <joint name="L_camera_color_optical_joint" type="fixed">
    <parent link="L_camera_color_frame"/>
    <child link="L_camera_color_optical_frame"/>
    <origin rpy="-1.5707963267948966 0 -1.5707963267948966" xyz="0 0 0"/>
  </joint>
  <joint name="L_camera_left_ir_joint" type="fixed">
    <parent link="L_camera_link"/>
    <child link="L_camera_left_ir_frame"/>
    <origin rpy="0 0 0" xyz="0 0 0"/>
  </joint>
  <joint name="L_camera_left_ir_optical_joint" type="fixed">
    <parent link="L_camera_left_ir_frame"/>
    <child link="L_camera_left_ir_optical_frame"/>
    <origin rpy="-1.5707963267948966 0 -1.5707963267948966" xyz="0 0 0"/>
  </joint>
  <joint name="L_camera_right_ir_joint" type="fixed">
    <parent link="L_camera_link"/>
    <child link="L_camera_right_ir_frame"/>
    <origin rpy="0 0 0" xyz="0 -0.050 0"/>
  </joint>
  <joint name="L_camera_right_ir_optical_joint" type="fixed">
    <parent link="L_camera_right_ir_frame"/>
    <child link="L_camera_right_ir_optical_frame"/>
    <origin rpy="-1.5707963267948966 0 -1.5707963267948966" xyz="0 0 0"/>
  </joint>
  <gazebo reference="L_camera_depth_frame">
    <sensor name="cameradepth" type="depth">
      <camera name="camera">
        <horizontal_fov>1.57</horizontal_fov>
        <image>
          <width>1280</width>
          <height>720</height>
        </image>
        <clip>
          <near>0.1</near>
          <far>100</far>
        </clip>
        <noise>
          <type>gaussian</type>
          <mean>0.0</mean>
          <stddev>0.100</stddev>
        </noise>
      </camera>
      <always_on>1</always_on>
      <update_rate>30</update_rate>
      <visualize>0</visualize>
    </sensor>
  </gazebo>
  <gazebo reference="L_camera_color_frame">
    <sensor name="cameracolor" type="camera">
      <camera name="camera">
        <horizontal_fov>1.57</horizontal_fov>
        <image>
          <width>1280</width>
          <height>720</height>
          <format>RGB_INT8</format>
        </image>
        <clip>
          <near>0.1</near>
          <far>100</far>
        </clip>
        <noise>
          <type>gaussian</type>
          <mean>0.0</mean>
          <stddev>0.007</stddev>
        </noise>
      </camera>
      <always_on>1</always_on>
      <update_rate>30</update_rate>
      <visualize>1</visualize>
    </sensor>
  </gazebo>
  <gazebo reference="L_camera_left_ir_frame">
    <sensor name="cameraired1" type="camera">
      <camera name="camera">
        <horizontal_fov>1.57</horizontal_fov>
        <image>
          <width>1280</width>
          <height>720</height>
          <format>L_INT8</format>
        </image>
        <clip>
          <near>0.1</near>
          <far>100</far>
        </clip>
        <noise>
          <type>gaussian</type>
          <mean>0.0</mean>
          <stddev>0.05</stddev>
        </noise>
      </camera>
      <always_on>1</always_on>
      <update_rate>30</update_rate>
      <visualize>0</visualize>
    </sensor>
  </gazebo>
  <gazebo reference="L_camera_right_ir_frame">
    <sensor name="cameraired2" type="camera">
      <camera name="camera">
        <horizontal_fov>1.57</horizontal_fov>
        <image>
          <width>1280</width>
          <height>720</height>
          <format>L_INT8</format>
        </image>
        <clip>
          <near>0.1</near>
          <far>100</far>
        </clip>
        <noise>
          <type>gaussian</type>
          <mean>0.0</mean>
          <stddev>0.05</stddev>
        </noise>
      </camera>
      <always_on>1</always_on>
      <update_rate>30</update_rate>
      <visualize>0</visualize>
    </sensor>
  </gazebo>
  <gazebo>
    <plugin filename="librealsense_gazebo_plugin.so" name="realsense_gazebo_camera">
      <prefix>camera</prefix>
      <depthUpdateRate>30.0</depthUpdateRate>
      <colorUpdateRate>30.0</colorUpdateRate>
      <infraredUpdateRate>30.0</infraredUpdateRate>
      <depthTopicName>aligned_depth_to_color/image_raw</depthTopicName>
      <depthCameraInfoTopicName>depth/camera_info</depthCameraInfoTopicName>
      <colorTopicName>color/image_raw</colorTopicName>
      <colorCameraInfoTopicName>color/camera_info</colorCameraInfoTopicName>
      <infrared1TopicName>infra1/image_raw</infrared1TopicName>
      <infrared1CameraInfoTopicName>infra1/camera_info</infrared1CameraInfoTopicName>
      <infrared2TopicName>infra2/image_raw</infrared2TopicName>
      <infrared2CameraInfoTopicName>infra2/camera_info</infrared2CameraInfoTopicName>
      <colorOpticalframeName>camera_color_optical_frame</colorOpticalframeName>
      <depthOpticalframeName>camera_depth_optical_frame</depthOpticalframeName>
      <infrared1OpticalframeName>camera_left_ir_optical_frame</infrared1OpticalframeName>
      <infrared2OpticalframeName>camera_right_ir_optical_frame</infrared2OpticalframeName>
      <rangeMinDepth>0.3</rangeMinDepth>
      <rangeMaxDepth>3.0</rangeMaxDepth>
      <pointCloud>true</pointCloud>
      <pointCloudTopicName>depth/color/points</pointCloudTopicName>
      <pointCloudCutoff>0.3</pointCloudCutoff>
    </plugin>
  </gazebo>
  <joint name="L_joint_eef" type="fixed">
    <origin rpy="0 0 0" xyz="0 0 0"/>
    <parent link="L_link6"/>
    <child link="L_link_eef"/>
  </joint>
  <joint name="L_gripper_fix" type="fixed">
    <parent link="L_link_eef"/>
    <child link="L_xarm_gripper_base_link"/>
    <origin rpy="0 0 0" xyz="0 0 0"/>
  </joint>
  <link name="L_xarm_gripper_base_link">
    <inertial>
      <origin rpy="0 0 0" xyz="-0.00065489 -0.0018497 0.048028"/>
      <mass value="0.54156"/>
      <inertia ixx="0.00047106" ixy="3.9292E-07" ixz="2.6537E-06" iyy="0.00033072" iyz="-1.0975E-05" izz="0.00025642"/>
    </inertial>
    <visual>
      <geometry>
        <mesh filename="package://xarm_description/meshes/gripper/xarm/base_link.stl"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <material name="L_White"/>
    </visual>
    <collision>
      <geometry>
        <mesh filename="package://xarm_description/meshes/gripper/xarm/base_link.stl"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0"/>
    </collision>
  </link>
  <link name="L_left_outer_knuckle">
    <inertial>
      <origin rpy="0 0 0" xyz="2.9948E-14 0.021559 0.015181"/>
      <mass value="0.033618"/>
      <inertia ixx="1.9111E-05" ixy="-1.8803E-17" ixz="-1.1002E-17" iyy="6.6256E-06" iyz="-7.3008E-06" izz="1.3185E-05"/>
    </inertial>
    <visual>
      <geometry>
        <mesh filename="package://xarm_description/meshes/gripper/xarm/left_outer_knuckle.stl"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <material name="L_Silver"/>
    </visual>
    <collision>
      <geometry>
        <mesh filename="package://xarm_description/meshes/gripper/xarm/left_outer_knuckle.stl"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0"/>
    </collision>
  </link>
  <joint name="L_drive_joint" type="revolute">
    <origin rpy="0 0 0" xyz="0 0.035 0.059098"/>
    <parent link="L_xarm_gripper_base_link"/>
    <child link="L_left_outer_knuckle"/>
    <axis xyz="1 0 0"/>
    <limit effort="50" lower="0" upper="0.85" velocity="2"/>
  </joint>
  <link name="L_left_finger">
    <inertial>
      <origin rpy="0 0 0" xyz="-2.4536E-14 -0.016413 0.029258"/>
      <mass value="0.048304"/>
      <inertia ixx="1.7493E-05" ixy="-4.2156E-19" ixz="6.9164E-18" iyy="1.7225E-05" iyz="4.6433E-06" izz="5.1466E-06"/>
    </inertial>
    <visual>
      <geometry>
        <mesh filename="package://xarm_description/meshes/gripper/xarm/left_finger.stl"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <material name="L_Silver"/>
    </visual>
    <collision>
      <geometry>
        <mesh filename="package://xarm_description/meshes/gripper/xarm/left_finger.stl"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0"/>
    </collision>
  </link>
  <joint name="L_left_finger_joint" type="revolute">
    <origin rpy="0 0 0" xyz="0 0.035465 0.042039"/>
    <parent link="L_left_outer_knuckle"/>
    <child link="L_left_finger"/>
    <axis xyz="-1 0 0"/>
    <limit effort="50" lower="0" upper="0.85" velocity="2"/>
    <mimic joint="L_drive_joint" multiplier="1" offset="0"/>
  </joint>
  <link name="L_left_inner_knuckle">
    <inertial>
      <origin rpy="0 0 0" xyz="1.86600784687907E-06 0.0220467847633621 0.0261334672830885"/>
      <mass value="0.0230125781256706"/>
      <inertia ixx="6.09490024271906E-06" ixy="6.06651326160071E-11" ixz="7.19102670500635E-11" iyy="6.01955084375188E-06" iyz="-2.75316812991721E-06" izz="5.07862004479903E-06"/>
    </inertial>
    <visual>
      <geometry>
        <mesh filename="package://xarm_description/meshes/gripper/xarm/left_inner_knuckle.stl"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <material name="L_Silver"/>
    </visual>
    <collision>
      <geometry>
        <mesh filename="package://xarm_description/meshes/gripper/xarm/left_inner_knuckle.stl"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0"/>
    </collision>
  </link>
  <joint name="L_left_inner_knuckle_joint" type="revolute">
    <origin rpy="0 0 0" xyz="0 0.02 0.074098"/>
    <parent link="L_xarm_gripper_base_link"/>
    <child link="L_left_inner_knuckle"/>
    <axis xyz="1 0 0"/>
    <limit effort="50" lower="0" upper="0.85" velocity="2"/>
    <mimic joint="L_drive_joint" multiplier="1" offset="0"/>
  </joint>
  <link name="L_right_outer_knuckle">
    <inertial>
      <origin rpy="0 0 0" xyz="-3.1669E-14 -0.021559 0.015181"/>
      <mass value="0.033618"/>
      <inertia ixx="1.9111E-05" ixy="-1.8789E-17" ixz="1.0986E-17" iyy="6.6256E-06" iyz="7.3008E-06" izz="1.3185E-05"/>
    </inertial>
    <visual>
      <geometry>
        <mesh filename="package://xarm_description/meshes/gripper/xarm/right_outer_knuckle.stl"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <material name="L_Silver"/>
    </visual>
    <collision>
      <geometry>
        <mesh filename="package://xarm_description/meshes/gripper/xarm/right_outer_knuckle.stl"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0"/>
    </collision>
  </link>
  <joint name="L_right_outer_knuckle_joint" type="revolute">
    <origin rpy="0 0 0" xyz="0 -0.035 0.059098"/>
    <parent link="L_xarm_gripper_base_link"/>
    <child link="L_right_outer_knuckle"/>
    <axis xyz="-1 0 0"/>
    <limit effort="50" lower="0" upper="0.85" velocity="2"/>
    <mimic joint="L_drive_joint" multiplier="1" offset="0"/>
  </joint>
  <link name="L_right_finger">
    <inertial>
      <origin rpy="0 0 0" xyz="2.5618E-14 0.016413 0.029258"/>
      <mass value="0.048304"/>
      <inertia ixx="1.7493E-05" ixy="-5.0014E-19" ixz="-7.5079E-18" iyy="1.7225E-05" iyz="-4.6435E-06" izz="5.1466E-06"/>
    </inertial>
    <visual>
      <geometry>
        <mesh filename="package://xarm_description/meshes/gripper/xarm/right_finger.stl"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <material name="L_Silver"/>
    </visual>
    <collision>
      <geometry>
        <mesh filename="package://xarm_description/meshes/gripper/xarm/right_finger.stl"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0"/>
    </collision>
  </link>
  <joint name="L_right_finger_joint" type="revolute">
    <origin rpy="0 0 0" xyz="0 -0.035465 0.042039"/>
    <parent link="L_right_outer_knuckle"/>
    <child link="L_right_finger"/>
    <axis xyz="1 0 0"/>
    <limit effort="50" lower="0" upper="0.85" velocity="2"/>
    <mimic joint="L_drive_joint" multiplier="1" offset="0"/>
  </joint>
  <link name="L_right_inner_knuckle">
    <inertial>
      <origin rpy="0 0 0" xyz="1.866E-06 -0.022047 0.026133"/>
      <mass value="0.023013"/>
      <inertia ixx="6.0949E-06" ixy="-6.0665E-11" ixz="7.191E-11" iyy="6.0197E-06" iyz="2.7531E-06" izz="5.0784E-06"/>
    </inertial>
    <visual>
      <geometry>
        <mesh filename="package://xarm_description/meshes/gripper/xarm/right_inner_knuckle.stl"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <material name="L_Silver"/>
    </visual>
    <collision>
      <geometry>
        <mesh filename="package://xarm_description/meshes/gripper/xarm/right_inner_knuckle.stl"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0"/>
    </collision>
  </link>
  <joint name="L_right_inner_knuckle_joint" type="revolute">
    <origin rpy="0 0 0" xyz="0 -0.02 0.074098"/>
    <parent link="L_xarm_gripper_base_link"/>
    <child link="L_right_inner_knuckle"/>
    <axis xyz="-1 0 0"/>
    <limit effort="50" lower="0" upper="0.85" velocity="2"/>
    <mimic joint="L_drive_joint" multiplier="1" offset="0"/>
  </joint>
  <link name="L_link_tcp"/>
  <joint name="L_joint_tcp" type="fixed">
    <origin rpy="0 0 0" xyz="0 0 0.172"/>
    <parent link="L_xarm_gripper_base_link"/>
    <child link="L_link_tcp"/>
  </joint>
  <transmission name="L_drive_joint_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="L_drive_joint">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="L_drive_joint_motor">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <gazebo reference="L_xarm_gripper_base_link">
    <selfCollide>false</selfCollide>
  </gazebo>
  <gazebo reference="L_left_outer_knuckle">
    <selfCollide>false</selfCollide>
  </gazebo>
  <gazebo reference="L_left_finger">
    <selfCollide>false</selfCollide>
  </gazebo>
  <gazebo reference="L_left_inner_knuckle">
    <selfCollide>false</selfCollide>
  </gazebo>
  <gazebo reference="L_right_outer_knuckle">
    <selfCollide>false</selfCollide>
  </gazebo>
  <gazebo reference="L_right_finger">
    <selfCollide>false</selfCollide>
  </gazebo>
  <gazebo reference="L_right_inner_knuckle">
    <selfCollide>false</selfCollide>
  </gazebo>
  <gazebo>
    <plugin filename="libgazebo_grasp_fix.so" name="gazebo_grasp_fix">
      <arm>
        <arm_name>xarm_gripper</arm_name>
        <palm_link>L_link6</palm_link>
        <gripper_link>L_left_inner_knuckle</gripper_link>
        <gripper_link>L_right_inner_knuckle</gripper_link>
        <!-- <gripper_link>${prefix}left_outer_knuckle</gripper_link>
          <gripper_link>${prefix}right_outer_knuckle</gripper_link> -->
        <gripper_link>L_left_finger</gripper_link>
        <gripper_link>L_right_finger</gripper_link>
      </arm>
      <forces_angle_tolerance>100</forces_angle_tolerance>
      <update_rate>10</update_rate>
      <grip_count_threshold>2</grip_count_threshold>
      <max_grip_count>3</max_grip_count>
      <release_tolerance>0.0198</release_tolerance>
      <disable_collisions_on_attach>false</disable_collisions_on_attach>
      <contact_topic>__default_topic__</contact_topic>
    </plugin>
  </gazebo>
  <!-- <xacro:property name="filename" value="libroboticsgroup_upatras_gazebo_mimic_joint_plugin.so" /> -->
  <gazebo>
    <plugin filename="libroboticsgroup_gazebo_mimic_joint_plugin.so" name="L_left_finger_jointmimic_joint_plugin">
      <joint>L_drive_joint</joint>
      <mimicJoint>L_left_finger_joint</mimicJoint>
      <multiplier>1.0</multiplier>
      <offset>0</offset>
      <sensitiveness>0.0</sensitiveness>
      <!-- if absolute difference between setpoint and process value is below this threshold, do nothing; 0.0 = disable [rad] -->
      <maxEffort>10.0</maxEffort>
    </plugin>
  </gazebo>
  <!-- <xacro:property name="filename" value="libroboticsgroup_upatras_gazebo_mimic_joint_plugin.so" /> -->
  <gazebo>
    <plugin filename="libroboticsgroup_gazebo_mimic_joint_plugin.so" name="L_left_inner_knuckle_jointmimic_joint_plugin">
      <joint>L_drive_joint</joint>
      <mimicJoint>L_left_inner_knuckle_joint</mimicJoint>
      <multiplier>1.0</multiplier>
      <offset>0</offset>
      <sensitiveness>0.0</sensitiveness>
      <!-- if absolute difference between setpoint and process value is below this threshold, do nothing; 0.0 = disable [rad] -->
      <maxEffort>10.0</maxEffort>
    </plugin>
  </gazebo>
  <!-- <xacro:property name="filename" value="libroboticsgroup_upatras_gazebo_mimic_joint_plugin.so" /> -->
  <gazebo>
    <plugin filename="libroboticsgroup_gazebo_mimic_joint_plugin.so" name="L_right_outer_knuckle_jointmimic_joint_plugin">
      <joint>L_drive_joint</joint>
      <mimicJoint>L_right_outer_knuckle_joint</mimicJoint>
      <multiplier>1.0</multiplier>
      <offset>0</offset>
      <sensitiveness>0.0</sensitiveness>
      <!-- if absolute difference between setpoint and process value is below this threshold, do nothing; 0.0 = disable [rad] -->
      <maxEffort>10.0</maxEffort>
    </plugin>
  </gazebo>
  <!-- <xacro:property name="filename" value="libroboticsgroup_upatras_gazebo_mimic_joint_plugin.so" /> -->
  <gazebo>
    <plugin filename="libroboticsgroup_gazebo_mimic_joint_plugin.so" name="L_right_finger_jointmimic_joint_plugin">
      <joint>L_drive_joint</joint>
      <mimicJoint>L_right_finger_joint</mimicJoint>
      <multiplier>1.0</multiplier>
      <offset>0</offset>
      <sensitiveness>0.0</sensitiveness>
      <!-- if absolute difference between setpoint and process value is below this threshold, do nothing; 0.0 = disable [rad] -->
      <maxEffort>10.0</maxEffort>
    </plugin>
  </gazebo>
  <!-- <xacro:property name="filename" value="libroboticsgroup_upatras_gazebo_mimic_joint_plugin.so" /> -->
  <gazebo>
    <plugin filename="libroboticsgroup_gazebo_mimic_joint_plugin.so" name="L_right_inner_knuckle_jointmimic_joint_plugin">
      <joint>L_drive_joint</joint>
      <mimicJoint>L_right_inner_knuckle_joint</mimicJoint>
      <multiplier>1.0</multiplier>
      <offset>0</offset>
      <sensitiveness>0.0</sensitiveness>
      <!-- if absolute difference between setpoint and process value is below this threshold, do nothing; 0.0 = disable [rad] -->
      <maxEffort>10.0</maxEffort>
    </plugin>
  </gazebo>
  <!-- Insert at the end of xarm_device_macro.xacro -->
  <!-- Insert at the beginning of xarm_device_macro.xacro -->
  <material name="R_Black">
    <color rgba="0.0 0.0 0.0 1.0"/>
  </material>
  <material name="R_Red">
    <color rgba="0.8 0.0 0.0 1.0"/>
  </material>
  <material name="R_White">
    <color rgba="1.0 1.0 1.0 1.0"/>
  </material>
  <material name="R_Silver">
    <color rgba="0.753 0.753 0.753 1.0"/>
  </material>
  <joint name="R_world_joint" type="fixed">
    <parent link="right_arm_link"/>
    <child link="R_link_base"/>
    <origin rpy="0 0 0" xyz="0 0 0"/>
  </joint>
  <link name="R_link_base">
    <inertial>
      <origin rpy="0 0 0" xyz="0.0 0.0 0.09103"/>
      <mass value="2.7"/>
      <inertia ixx="0.00494875" ixy="-3.5E-06" ixz="1.25E-05" iyy="0.00494174" iyz="1.67E-06" izz="0.002219"/>
    </inertial>
    <visual>
      <geometry>
        <mesh filename="package://xarm_description/meshes/xarm6/visual/link_base.stl"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <material name="R_White"/>
    </visual>
    <collision>
      <geometry>
        <mesh filename="package://xarm_description/meshes/xarm6/visual/link_base.stl"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0"/>
    </collision>
  </link>
  <link name="R_link1">
    <inertial>
      <origin rpy="0 0 0" xyz="0.00022 0.02951 -0.0124"/>
      <mass value="2.3814"/>
      <inertia ixx="0.0058562" ixy="-1.79e-05" ixz="3.55e-06" iyy="0.0050316" iyz="-0.000888336" izz="0.003536652"/>
    </inertial>
    <visual>
      <geometry>
        <mesh filename="package://xarm_description/meshes/xarm6/visual/link1.stl"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <material name="R_White"/>
    </visual>
    <collision>
      <geometry>
        <mesh filename="package://xarm_description/meshes/xarm6/visual/link1.stl"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0"/>
    </collision>
  </link>
  <joint name="R_joint1" type="revolute">
    <parent link="R_link_base"/>
    <child link="R_link1"/>
    <origin rpy="0 0 0" xyz="0 0 0.267"/>
    <axis xyz="0 0 1"/>
    <limit effort="50.0" lower="-6.283185307179586" upper="6.283185307179586" velocity="3.14"/>
    <dynamics damping="1.0" friction="1.0"/>
  </joint>
  <link name="R_link2">
    <inertial>
      <origin rpy="0 0 0" xyz="0.03881 -0.22783 0.03496"/>
      <mass value="2.2675"/>
      <inertia ixx="0.028315776" ixy="0.005" ixz="0.00066546" iyy="0.0058" iyz="-0.0045741" izz="0.0273447"/>
    </inertial>
    <visual>
      <geometry>
        <mesh filename="package://xarm_description/meshes/xarm6/visual/link2.stl"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <material name="R_White"/>
    </visual>
    <collision>
      <geometry>
        <mesh filename="package://xarm_description/meshes/xarm6/visual/link2.stl"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0"/>
    </collision>
  </link>
  <joint name="R_joint2" type="revolute">
    <parent link="R_link1"/>
    <child link="R_link2"/>
    <origin rpy="-1.5708 0 0" xyz="0 0 0"/>
    <axis xyz="0 0 1"/>
    <limit effort="50.0" lower="-2.059" upper="2.0944" velocity="3.14"/>
    <dynamics damping="1.0" friction="1.0"/>
  </joint>
  <link name="R_link3">
    <inertial>
      <origin rpy="0 0 0" xyz="0.07041 0.11631 0.0107"/>
      <mass value="1.875"/>
      <inertia ixx="0.0063483" ixy="-0.0015397" ixz="0.00096858" iyy="0.00379758" iyz="0.00186567" izz="0.00595768"/>
    </inertial>
    <visual>
      <geometry>
        <mesh filename="package://xarm_description/meshes/xarm6/visual/link3.stl"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <material name="R_White"/>
    </visual>
    <collision>
      <geometry>
        <mesh filename="package://xarm_description/meshes/xarm6/visual/link3.stl"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0"/>
    </collision>
  </link>
  <joint name="R_joint3" type="revolute">
    <parent link="R_link2"/>
    <child link="R_link3"/>
    <origin rpy="0 0 0" xyz="0.0535 -0.2845 0"/>
    <axis xyz="0 0 1"/>
    <limit effort="32.0" lower="-3.927" upper="0.19198" velocity="3.14"/>
    <dynamics damping="1.0" friction="1.0"/>
  </joint>
  <link name="R_link4">
    <inertial>
      <origin rpy="0 0 0" xyz="-0.00018 0.01798 -0.02291"/>
      <mass value="1.3192"/>
      <inertia ixx="0.004896" ixy="-6.925e-06" ixz="-1.418e-05" iyy="0.00445694" iyz="-0.00023186" izz="0.00134332"/>
    </inertial>
    <visual>
      <geometry>
        <mesh filename="package://xarm_description/meshes/xarm6/visual/link4.stl"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <material name="R_White"/>
    </visual>
    <collision>
      <geometry>
        <mesh filename="package://xarm_description/meshes/xarm6/visual/link4.stl"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0"/>
    </collision>
  </link>
  <joint name="R_joint4" type="revolute">
    <parent link="R_link3"/>
    <child link="R_link4"/>
    <origin rpy="-1.5708 0 0" xyz="0.0775 0.3425 0"/>
    <axis xyz="0 0 1"/>
    <limit effort="32.0" lower="-6.283185307179586" upper="6.283185307179586" velocity="3.14"/>
    <dynamics damping="1.0" friction="1.0"/>
  </joint>
  <link name="R_link5">
    <inertial>
      <origin rpy="0 0 0" xyz="0.0651 0.03096 0.00315"/>
      <mass value="1.33854"/>
      <inertia ixx="0.00146378" ixy="-0.000450624" ixz="0.000284306" iyy="0.00184192" iyz="0.000130866" izz="0.002333524"/>
    </inertial>
    <visual>
      <geometry>
        <mesh filename="package://xarm_description/meshes/xarm6/visual/link5.stl"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <material name="R_White"/>
    </visual>
    <collision>
      <geometry>
        <mesh filename="package://xarm_description/meshes/xarm6/visual/link5.stl"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0"/>
    </collision>
  </link>
  <joint name="R_joint5" type="revolute">
    <parent link="R_link4"/>
    <child link="R_link5"/>
    <origin rpy="1.5708 0 0" xyz="0 0 0"/>
    <origin rpy="1.5708 0 0" xyz="0 0 0"/>
    <axis xyz="0 0 1"/>
    <limit effort="32.0" lower="-1.69297" upper="3.141592653589793" velocity="3.14"/>
    <dynamics damping="1.0" friction="1.0"/>
  </joint>
  <link name="R_link6">
    <inertial>
      <origin rpy="0 0 0" xyz="0 -0.00677 -0.01098"/>
      <mass value="0.17"/>
      <inertia ixx="9.3e-05" ixy="-0.0" ixz="-0.0" iyy="5.87e-05" iyz="-3.6e-06" izz="0.000132"/>
    </inertial>
    <visual>
      <geometry>
        <mesh filename="package://xarm_description/meshes/xarm6/visual/link6.stl"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <material name="R_Silver"/>
    </visual>
    <collision>
      <geometry>
        <mesh filename="package://xarm_description/meshes/end_tool/collision/end_tool.stl"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0"/>
    </collision>
  </link>
  <joint name="R_joint6" type="revolute">
    <parent link="R_link5"/>
    <child link="R_link6"/>
    <origin rpy="-1.5708 0 0" xyz="0.076 0.097 0"/>
    <axis xyz="0 0 1"/>
    <limit effort="20.0" lower="-6.283185307179586" upper="6.283185307179586" velocity="3.14"/>
    <dynamics damping="1.0" friction="1.0"/>
  </joint>
  <!-- <link name="${prefix}link_eef" />
    <joint name="${prefix}joint_eef" type="fixed">
      <origin xyz="0 0 0" rpy="0 0 0" />
      <parent link="${prefix}link6" />
      <child link="${prefix}link_eef" />
    </joint> -->
  <transmission name="R_tran1">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="R_joint1">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="R_motor1">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
      <mechanicalReduction>100</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="R_tran2">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="R_joint2">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="R_motor2">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
      <mechanicalReduction>100</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="R_tran3">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="R_joint3">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="R_motor3">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
      <mechanicalReduction>100</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="R_tran4">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="R_joint4">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="R_motor4">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
      <mechanicalReduction>100</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="R_tran5">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="R_joint5">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="R_motor5">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
      <mechanicalReduction>100</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="R_tran6">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="R_joint6">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="R_motor6">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
      <mechanicalReduction>100</mechanicalReduction>
    </actuator>
  </transmission>
  <gazebo reference="R_link_base">
    <selfCollide>true</selfCollide>
  </gazebo>
  <gazebo reference="R_link1">
    <selfCollide>true</selfCollide>
  </gazebo>
  <gazebo reference="R_link2">
    <selfCollide>true</selfCollide>
  </gazebo>
  <gazebo reference="R_link3">
    <selfCollide>true</selfCollide>
  </gazebo>
  <gazebo reference="R_link4">
    <selfCollide>true</selfCollide>
  </gazebo>
  <gazebo reference="R_link5">
    <selfCollide>true</selfCollide>
  </gazebo>
  <gazebo reference="R_link6">
    <selfCollide>true</selfCollide>
  </gazebo>
  <link name="R_link_eef">
    <visual>
      <geometry>
        <mesh filename="package://xarm_description/meshes/camera/realsense/visual/d435_with_cam_stand.stl"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <material name="R_Silver"/>
    </visual>
    <collision>
      <geometry>
        <mesh filename="package://xarm_description/meshes/camera/realsense/collision/d435_with_cam_stand.stl"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0"/>
    </collision>
  </link>
  <link name="R_camera_link"/>
  <link name="R_camera_depth_frame"/>
  <link name="R_camera_depth_optical_frame"/>
  <link name="R_camera_color_frame"/>
  <link name="R_camera_color_optical_frame"/>
  <link name="R_camera_left_ir_frame"/>
  <link name="R_camera_left_ir_optical_frame"/>
  <link name="R_camera_right_ir_frame"/>
  <link name="R_camera_right_ir_optical_frame"/>
  <joint name="R_camera_link_joint" type="fixed">
    <parent link="R_link_eef"/>
    <child link="R_camera_link"/>
    <origin rpy="3.141592653589793 -1.5707963267948966 0" xyz="0.06746 -0.0175 0.0237"/>
  </joint>
  <joint name="R_camera_depth_joint" type="fixed">
    <parent link="R_camera_link"/>
    <child link="R_camera_depth_frame"/>
    <origin rpy="0 0 0" xyz="0 0 0"/>
  </joint>
  <joint name="R_camera_depth_optical_joint" type="fixed">
    <parent link="R_camera_depth_frame"/>
    <child link="R_camera_depth_optical_frame"/>
    <origin rpy="-1.5707963267948966 0 -1.5707963267948966" xyz="0 0 0"/>
  </joint>
  <joint name="R_camera_color_joint" type="fixed">
    <parent link="R_camera_link"/>
    <child link="R_camera_color_frame"/>
    <origin rpy="0 0 0" xyz="0 0.015 0"/>
  </joint>
  <joint name="R_camera_color_optical_joint" type="fixed">
    <parent link="R_camera_color_frame"/>
    <child link="R_camera_color_optical_frame"/>
    <origin rpy="-1.5707963267948966 0 -1.5707963267948966" xyz="0 0 0"/>
  </joint>
  <joint name="R_camera_left_ir_joint" type="fixed">
    <parent link="R_camera_link"/>
    <child link="R_camera_left_ir_frame"/>
    <origin rpy="0 0 0" xyz="0 0 0"/>
  </joint>
  <joint name="R_camera_left_ir_optical_joint" type="fixed">
    <parent link="R_camera_left_ir_frame"/>
    <child link="R_camera_left_ir_optical_frame"/>
    <origin rpy="-1.5707963267948966 0 -1.5707963267948966" xyz="0 0 0"/>
  </joint>
  <joint name="R_camera_right_ir_joint" type="fixed">
    <parent link="R_camera_link"/>
    <child link="R_camera_right_ir_frame"/>
    <origin rpy="0 0 0" xyz="0 -0.050 0"/>
  </joint>
  <joint name="R_camera_right_ir_optical_joint" type="fixed">
    <parent link="R_camera_right_ir_frame"/>
    <child link="R_camera_right_ir_optical_frame"/>
    <origin rpy="-1.5707963267948966 0 -1.5707963267948966" xyz="0 0 0"/>
  </joint>
  <gazebo reference="R_camera_depth_frame">
    <sensor name="cameradepth" type="depth">
      <camera name="camera">
        <horizontal_fov>1.57</horizontal_fov>
        <image>
          <width>1280</width>
          <height>720</height>
        </image>
        <clip>
          <near>0.1</near>
          <far>100</far>
        </clip>
        <noise>
          <type>gaussian</type>
          <mean>0.0</mean>
          <stddev>0.100</stddev>
        </noise>
      </camera>
      <always_on>1</always_on>
      <update_rate>30</update_rate>
      <visualize>0</visualize>
    </sensor>
  </gazebo>
  <gazebo reference="R_camera_color_frame">
    <sensor name="cameracolor" type="camera">
      <camera name="camera">
        <horizontal_fov>1.57</horizontal_fov>
        <image>
          <width>1280</width>
          <height>720</height>
          <format>RGB_INT8</format>
        </image>
        <clip>
          <near>0.1</near>
          <far>100</far>
        </clip>
        <noise>
          <type>gaussian</type>
          <mean>0.0</mean>
          <stddev>0.007</stddev>
        </noise>
      </camera>
      <always_on>1</always_on>
      <update_rate>30</update_rate>
      <visualize>1</visualize>
    </sensor>
  </gazebo>
  <gazebo reference="R_camera_left_ir_frame">
    <sensor name="cameraired1" type="camera">
      <camera name="camera">
        <horizontal_fov>1.57</horizontal_fov>
        <image>
          <width>1280</width>
          <height>720</height>
          <format>L_INT8</format>
        </image>
        <clip>
          <near>0.1</near>
          <far>100</far>
        </clip>
        <noise>
          <type>gaussian</type>
          <mean>0.0</mean>
          <stddev>0.05</stddev>
        </noise>
      </camera>
      <always_on>1</always_on>
      <update_rate>30</update_rate>
      <visualize>0</visualize>
    </sensor>
  </gazebo>
  <gazebo reference="R_camera_right_ir_frame">
    <sensor name="cameraired2" type="camera">
      <camera name="camera">
        <horizontal_fov>1.57</horizontal_fov>
        <image>
          <width>1280</width>
          <height>720</height>
          <format>L_INT8</format>
        </image>
        <clip>
          <near>0.1</near>
          <far>100</far>
        </clip>
        <noise>
          <type>gaussian</type>
          <mean>0.0</mean>
          <stddev>0.05</stddev>
        </noise>
      </camera>
      <always_on>1</always_on>
      <update_rate>30</update_rate>
      <visualize>0</visualize>
    </sensor>
  </gazebo>
  <gazebo>
    <plugin filename="librealsense_gazebo_plugin.so" name="realsense_gazebo_camera">
      <prefix>camera</prefix>
      <depthUpdateRate>30.0</depthUpdateRate>
      <colorUpdateRate>30.0</colorUpdateRate>
      <infraredUpdateRate>30.0</infraredUpdateRate>
      <depthTopicName>aligned_depth_to_color/image_raw</depthTopicName>
      <depthCameraInfoTopicName>depth/camera_info</depthCameraInfoTopicName>
      <colorTopicName>color/image_raw</colorTopicName>
      <colorCameraInfoTopicName>color/camera_info</colorCameraInfoTopicName>
      <infrared1TopicName>infra1/image_raw</infrared1TopicName>
      <infrared1CameraInfoTopicName>infra1/camera_info</infrared1CameraInfoTopicName>
      <infrared2TopicName>infra2/image_raw</infrared2TopicName>
      <infrared2CameraInfoTopicName>infra2/camera_info</infrared2CameraInfoTopicName>
      <colorOpticalframeName>camera_color_optical_frame</colorOpticalframeName>
      <depthOpticalframeName>camera_depth_optical_frame</depthOpticalframeName>
      <infrared1OpticalframeName>camera_left_ir_optical_frame</infrared1OpticalframeName>
      <infrared2OpticalframeName>camera_right_ir_optical_frame</infrared2OpticalframeName>
      <rangeMinDepth>0.3</rangeMinDepth>
      <rangeMaxDepth>3.0</rangeMaxDepth>
      <pointCloud>true</pointCloud>
      <pointCloudTopicName>depth/color/points</pointCloudTopicName>
      <pointCloudCutoff>0.3</pointCloudCutoff>
    </plugin>
  </gazebo>
  <joint name="R_joint_eef" type="fixed">
    <origin rpy="0 0 0" xyz="0 0 0"/>
    <parent link="R_link6"/>
    <child link="R_link_eef"/>
  </joint>
  <joint name="R_gripper_fix" type="fixed">
    <parent link="R_link_eef"/>
    <child link="R_xarm_gripper_base_link"/>
    <origin rpy="0 0 0" xyz="0 0 0"/>
  </joint>
  <link name="R_xarm_gripper_base_link">
    <inertial>
      <origin rpy="0 0 0" xyz="-0.00065489 -0.0018497 0.048028"/>
      <mass value="0.54156"/>
      <inertia ixx="0.00047106" ixy="3.9292E-07" ixz="2.6537E-06" iyy="0.00033072" iyz="-1.0975E-05" izz="0.00025642"/>
    </inertial>
    <visual>
      <geometry>
        <mesh filename="package://xarm_description/meshes/gripper/xarm/base_link.stl"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <material name="R_White"/>
    </visual>
    <collision>
      <geometry>
        <mesh filename="package://xarm_description/meshes/gripper/xarm/base_link.stl"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0"/>
    </collision>
  </link>
  <link name="R_left_outer_knuckle">
    <inertial>
      <origin rpy="0 0 0" xyz="2.9948E-14 0.021559 0.015181"/>
      <mass value="0.033618"/>
      <inertia ixx="1.9111E-05" ixy="-1.8803E-17" ixz="-1.1002E-17" iyy="6.6256E-06" iyz="-7.3008E-06" izz="1.3185E-05"/>
    </inertial>
    <visual>
      <geometry>
        <mesh filename="package://xarm_description/meshes/gripper/xarm/left_outer_knuckle.stl"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <material name="R_Silver"/>
    </visual>
    <collision>
      <geometry>
        <mesh filename="package://xarm_description/meshes/gripper/xarm/left_outer_knuckle.stl"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0"/>
    </collision>
  </link>
  <joint name="R_drive_joint" type="revolute">
    <origin rpy="0 0 0" xyz="0 0.035 0.059098"/>
    <parent link="R_xarm_gripper_base_link"/>
    <child link="R_left_outer_knuckle"/>
    <axis xyz="1 0 0"/>
    <limit effort="50" lower="0" upper="0.85" velocity="2"/>
  </joint>
  <link name="R_left_finger">
    <inertial>
      <origin rpy="0 0 0" xyz="-2.4536E-14 -0.016413 0.029258"/>
      <mass value="0.048304"/>
      <inertia ixx="1.7493E-05" ixy="-4.2156E-19" ixz="6.9164E-18" iyy="1.7225E-05" iyz="4.6433E-06" izz="5.1466E-06"/>
    </inertial>
    <visual>
      <geometry>
        <mesh filename="package://xarm_description/meshes/gripper/xarm/left_finger.stl"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <material name="R_Silver"/>
    </visual>
    <collision>
      <geometry>
        <mesh filename="package://xarm_description/meshes/gripper/xarm/left_finger.stl"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0"/>
    </collision>
  </link>
  <joint name="R_left_finger_joint" type="revolute">
    <origin rpy="0 0 0" xyz="0 0.035465 0.042039"/>
    <parent link="R_left_outer_knuckle"/>
    <child link="R_left_finger"/>
    <axis xyz="-1 0 0"/>
    <limit effort="50" lower="0" upper="0.85" velocity="2"/>
    <mimic joint="R_drive_joint" multiplier="1" offset="0"/>
  </joint>
  <link name="R_left_inner_knuckle">
    <inertial>
      <origin rpy="0 0 0" xyz="1.86600784687907E-06 0.0220467847633621 0.0261334672830885"/>
      <mass value="0.0230125781256706"/>
      <inertia ixx="6.09490024271906E-06" ixy="6.06651326160071E-11" ixz="7.19102670500635E-11" iyy="6.01955084375188E-06" iyz="-2.75316812991721E-06" izz="5.07862004479903E-06"/>
    </inertial>
    <visual>
      <geometry>
        <mesh filename="package://xarm_description/meshes/gripper/xarm/left_inner_knuckle.stl"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <material name="R_Silver"/>
    </visual>
    <collision>
      <geometry>
        <mesh filename="package://xarm_description/meshes/gripper/xarm/left_inner_knuckle.stl"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0"/>
    </collision>
  </link>
  <joint name="R_left_inner_knuckle_joint" type="revolute">
    <origin rpy="0 0 0" xyz="0 0.02 0.074098"/>
    <parent link="R_xarm_gripper_base_link"/>
    <child link="R_left_inner_knuckle"/>
    <axis xyz="1 0 0"/>
    <limit effort="50" lower="0" upper="0.85" velocity="2"/>
    <mimic joint="R_drive_joint" multiplier="1" offset="0"/>
  </joint>
  <link name="R_right_outer_knuckle">
    <inertial>
      <origin rpy="0 0 0" xyz="-3.1669E-14 -0.021559 0.015181"/>
      <mass value="0.033618"/>
      <inertia ixx="1.9111E-05" ixy="-1.8789E-17" ixz="1.0986E-17" iyy="6.6256E-06" iyz="7.3008E-06" izz="1.3185E-05"/>
    </inertial>
    <visual>
      <geometry>
        <mesh filename="package://xarm_description/meshes/gripper/xarm/right_outer_knuckle.stl"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <material name="R_Silver"/>
    </visual>
    <collision>
      <geometry>
        <mesh filename="package://xarm_description/meshes/gripper/xarm/right_outer_knuckle.stl"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0"/>
    </collision>
  </link>
  <joint name="R_right_outer_knuckle_joint" type="revolute">
    <origin rpy="0 0 0" xyz="0 -0.035 0.059098"/>
    <parent link="R_xarm_gripper_base_link"/>
    <child link="R_right_outer_knuckle"/>
    <axis xyz="-1 0 0"/>
    <limit effort="50" lower="0" upper="0.85" velocity="2"/>
    <mimic joint="R_drive_joint" multiplier="1" offset="0"/>
  </joint>
  <link name="R_right_finger">
    <inertial>
      <origin rpy="0 0 0" xyz="2.5618E-14 0.016413 0.029258"/>
      <mass value="0.048304"/>
      <inertia ixx="1.7493E-05" ixy="-5.0014E-19" ixz="-7.5079E-18" iyy="1.7225E-05" iyz="-4.6435E-06" izz="5.1466E-06"/>
    </inertial>
    <visual>
      <geometry>
        <mesh filename="package://xarm_description/meshes/gripper/xarm/right_finger.stl"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <material name="R_Silver"/>
    </visual>
    <collision>
      <geometry>
        <mesh filename="package://xarm_description/meshes/gripper/xarm/right_finger.stl"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0"/>
    </collision>
  </link>
  <joint name="R_right_finger_joint" type="revolute">
    <origin rpy="0 0 0" xyz="0 -0.035465 0.042039"/>
    <parent link="R_right_outer_knuckle"/>
    <child link="R_right_finger"/>
    <axis xyz="1 0 0"/>
    <limit effort="50" lower="0" upper="0.85" velocity="2"/>
    <mimic joint="R_drive_joint" multiplier="1" offset="0"/>
  </joint>
  <link name="R_right_inner_knuckle">
    <inertial>
      <origin rpy="0 0 0" xyz="1.866E-06 -0.022047 0.026133"/>
      <mass value="0.023013"/>
      <inertia ixx="6.0949E-06" ixy="-6.0665E-11" ixz="7.191E-11" iyy="6.0197E-06" iyz="2.7531E-06" izz="5.0784E-06"/>
    </inertial>
    <visual>
      <geometry>
        <mesh filename="package://xarm_description/meshes/gripper/xarm/right_inner_knuckle.stl"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <material name="R_Silver"/>
    </visual>
    <collision>
      <geometry>
        <mesh filename="package://xarm_description/meshes/gripper/xarm/right_inner_knuckle.stl"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0"/>
    </collision>
  </link>
  <joint name="R_right_inner_knuckle_joint" type="revolute">
    <origin rpy="0 0 0" xyz="0 -0.02 0.074098"/>
    <parent link="R_xarm_gripper_base_link"/>
    <child link="R_right_inner_knuckle"/>
    <axis xyz="-1 0 0"/>
    <limit effort="50" lower="0" upper="0.85" velocity="2"/>
    <mimic joint="R_drive_joint" multiplier="1" offset="0"/>
  </joint>
  <link name="R_link_tcp"/>
  <joint name="R_joint_tcp" type="fixed">
    <origin rpy="0 0 0" xyz="0 0 0.172"/>
    <parent link="R_xarm_gripper_base_link"/>
    <child link="R_link_tcp"/>
  </joint>
  <transmission name="R_drive_joint_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="R_drive_joint">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="R_drive_joint_motor">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <gazebo reference="R_xarm_gripper_base_link">
    <selfCollide>false</selfCollide>
  </gazebo>
  <gazebo reference="R_left_outer_knuckle">
    <selfCollide>false</selfCollide>
  </gazebo>
  <gazebo reference="R_left_finger">
    <selfCollide>false</selfCollide>
  </gazebo>
  <gazebo reference="R_left_inner_knuckle">
    <selfCollide>false</selfCollide>
  </gazebo>
  <gazebo reference="R_right_outer_knuckle">
    <selfCollide>false</selfCollide>
  </gazebo>
  <gazebo reference="R_right_finger">
    <selfCollide>false</selfCollide>
  </gazebo>
  <gazebo reference="R_right_inner_knuckle">
    <selfCollide>false</selfCollide>
  </gazebo>
  <gazebo>
    <plugin filename="libgazebo_grasp_fix.so" name="gazebo_grasp_fix">
      <arm>
        <arm_name>xarm_gripper</arm_name>
        <palm_link>R_link6</palm_link>
        <gripper_link>R_left_inner_knuckle</gripper_link>
        <gripper_link>R_right_inner_knuckle</gripper_link>
        <!-- <gripper_link>${prefix}left_outer_knuckle</gripper_link>
          <gripper_link>${prefix}right_outer_knuckle</gripper_link> -->
        <gripper_link>R_left_finger</gripper_link>
        <gripper_link>R_right_finger</gripper_link>
      </arm>
      <forces_angle_tolerance>100</forces_angle_tolerance>
      <update_rate>10</update_rate>
      <grip_count_threshold>2</grip_count_threshold>
      <max_grip_count>3</max_grip_count>
      <release_tolerance>0.0198</release_tolerance>
      <disable_collisions_on_attach>false</disable_collisions_on_attach>
      <contact_topic>__default_topic__</contact_topic>
    </plugin>
  </gazebo>
  <!-- <xacro:property name="filename" value="libroboticsgroup_upatras_gazebo_mimic_joint_plugin.so" /> -->
  <gazebo>
    <plugin filename="libroboticsgroup_gazebo_mimic_joint_plugin.so" name="R_left_finger_jointmimic_joint_plugin">
      <joint>R_drive_joint</joint>
      <mimicJoint>R_left_finger_joint</mimicJoint>
      <multiplier>1.0</multiplier>
      <offset>0</offset>
      <sensitiveness>0.0</sensitiveness>
      <!-- if absolute difference between setpoint and process value is below this threshold, do nothing; 0.0 = disable [rad] -->
      <maxEffort>10.0</maxEffort>
    </plugin>
  </gazebo>
  <!-- <xacro:property name="filename" value="libroboticsgroup_upatras_gazebo_mimic_joint_plugin.so" /> -->
  <gazebo>
    <plugin filename="libroboticsgroup_gazebo_mimic_joint_plugin.so" name="R_left_inner_knuckle_jointmimic_joint_plugin">
      <joint>R_drive_joint</joint>
      <mimicJoint>R_left_inner_knuckle_joint</mimicJoint>
      <multiplier>1.0</multiplier>
      <offset>0</offset>
      <sensitiveness>0.0</sensitiveness>
      <!-- if absolute difference between setpoint and process value is below this threshold, do nothing; 0.0 = disable [rad] -->
      <maxEffort>10.0</maxEffort>
    </plugin>
  </gazebo>
  <!-- <xacro:property name="filename" value="libroboticsgroup_upatras_gazebo_mimic_joint_plugin.so" /> -->
  <gazebo>
    <plugin filename="libroboticsgroup_gazebo_mimic_joint_plugin.so" name="R_right_outer_knuckle_jointmimic_joint_plugin">
      <joint>R_drive_joint</joint>
      <mimicJoint>R_right_outer_knuckle_joint</mimicJoint>
      <multiplier>1.0</multiplier>
      <offset>0</offset>
      <sensitiveness>0.0</sensitiveness>
      <!-- if absolute difference between setpoint and process value is below this threshold, do nothing; 0.0 = disable [rad] -->
      <maxEffort>10.0</maxEffort>
    </plugin>
  </gazebo>
  <!-- <xacro:property name="filename" value="libroboticsgroup_upatras_gazebo_mimic_joint_plugin.so" /> -->
  <gazebo>
    <plugin filename="libroboticsgroup_gazebo_mimic_joint_plugin.so" name="R_right_finger_jointmimic_joint_plugin">
      <joint>R_drive_joint</joint>
      <mimicJoint>R_right_finger_joint</mimicJoint>
      <multiplier>1.0</multiplier>
      <offset>0</offset>
      <sensitiveness>0.0</sensitiveness>
      <!-- if absolute difference between setpoint and process value is below this threshold, do nothing; 0.0 = disable [rad] -->
      <maxEffort>10.0</maxEffort>
    </plugin>
  </gazebo>
  <!-- <xacro:property name="filename" value="libroboticsgroup_upatras_gazebo_mimic_joint_plugin.so" /> -->
  <gazebo>
    <plugin filename="libroboticsgroup_gazebo_mimic_joint_plugin.so" name="R_right_inner_knuckle_jointmimic_joint_plugin">
      <joint>R_drive_joint</joint>
      <mimicJoint>R_right_inner_knuckle_joint</mimicJoint>
      <multiplier>1.0</multiplier>
      <offset>0</offset>
      <sensitiveness>0.0</sensitiveness>
      <!-- if absolute difference between setpoint and process value is below this threshold, do nothing; 0.0 = disable [rad] -->
      <maxEffort>10.0</maxEffort>
    </plugin>
  </gazebo>
  <gazebo>
    <plugin filename="libgazebo_ros_control.so" name="gazebo_ros_control">
      <robotNamespace>/xarm</robotNamespace>
      <!-- <controlPeriod>0.0001</controlPeriod> -->
      <robotSimType>gazebo_ros_control/DefaultRobotHWSim</robotSimType>
      <legacyModeNS>true</legacyModeNS>
      <!-- <preserveWorldVelocity>true</preserveWorldVelocity> -->
    </plugin>
  </gazebo>
  <!-- Insert at the end of xarm_device_macro.xacro -->
  <material name="aluminum">
    <color rgba="0.5 0.5 0.5 1"/>
  </material>
  <material name="plastic">
    <color rgba="0.1 0.1 0.1 1"/>
  </material>
  <!-- camera body, with origin at bottom screw mount -->
  <joint name="base_camera_joint" type="fixed">
    <origin rpy="0 0 0" xyz="0.015 0 0.069"/>
    <parent link="servo_link2_link"/>
    <child link="base_camera_bottom_screw_frame"/>
  </joint>
  <link name="base_camera_bottom_screw_frame"/>
  <joint name="base_camera_link_joint" type="fixed">
    <origin rpy="0 0 0" xyz="0.010600000000000002 0.0175 0.0125"/>
    <parent link="base_camera_bottom_screw_frame"/>
    <child link="base_camera_link"/>
  </joint>
  <link name="base_camera_link">
    <visual>
      <!-- the mesh origin is at front plate in between the two infrared camera axes -->
      <origin rpy="1.5707963267948966 0 1.5707963267948966" xyz="0.0043 -0.0175 0"/>
      <geometry>
        <mesh filename="package://realsense2_description/meshes/d435.dae"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 -0.0175 0"/>
      <geometry>
        <box size="0.02505 0.09 0.025"/>
      </geometry>
    </collision>
    <inertial>
      <!-- The following are not reliable values, and should not be used for modeling -->
      <mass value="0.072"/>
      <origin xyz="0 0 0"/>
      <inertia ixx="0.003881243" ixy="0.0" ixz="0.0" iyy="0.000498940" iyz="0.0" izz="0.003879257"/>
    </inertial>
  </link>
</robot>
